-- lua -e 'package.path="./src/?.lua;./src/?/init.lua;"..package.path' hclua.lua

local Parser = require("hclua.parser")
local Decoder = require("hclua.decoder")

local asd = Parser.parse([[
locale {
    ai {
        snail {
            _0 = "「なめくじだ！」" # yee
            _1 = "「殺す！」"
        }

        ally {
            sells_items = "${name(_1)}は${_2}個のアイテムを売りさばき${_3}goldを稼いだ。"
            visits_trainer = "${basename(_1)}は訓練所に通い潜在能力を伸ばした！"
        }

        swap {
            displace = "${name(_1)}は${name(_2)}を押しのけた。"
            glare = "${name(_2)}は${name(_1)}を睨み付けた。"
        }

        crushes_wall = "${name(_1)}は壁を破壊した！"

        fire_giant {
            _0 = "「化け物め！」"
            _1 = "「くたばれっ」"
            _2 = "「退治してやるぅ！」"
            _3 = "「くらえー！」"
        }

        makes_snowman = "${name(_1)}は${itemname(_2)}を作った！"

        snowball {
            _0 = " *クスクス* "
            _1 = "「えいっ」"
            _2 = "「うりゃ」"
            _3 = "「くらえー！」"
            _4 = "「危ないっ！」"
            _5 = "「避けてー」"
        }
    }
}
]])

local zsc = Decoder.decode(asd)
print(dump(zxc))

